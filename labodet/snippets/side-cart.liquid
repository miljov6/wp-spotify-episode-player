{%- comment -%}
//    !!!! - DO NOT MODIFY - !!!!
//    THIS FILE IS DEPLOYED AUTOMATICALLY BY MATTv2.
//    CHANGES YOU MAKE MAY BE AUTOMATICALLY OVERWRITTEN AT ANY TIME.
//
//    Deployment info:
//      Updated at:     2021-04-01T16:13:54+00:00
//      Cause:          Manual deployment.
//      Deployment ID:  121331
//      Project:        339
//      Environment:    741 - master
//      MD5:            51d889f73969fe4d4728d2705c093e48
//      Signature:      eyJpdiI6IlIxNzBqVmJ0NHc5V2lhV2ZCY2xoRWc9PSIsInZhbHVlIjoicGNuN0ZZV0E3elFOeDB5K3dPM1VZTlJnTitSSGFSZ21rM0xBeEZpNXpqOEdLV2s1WXZ5c3hhOVNGcHAwYk43eWpXdVpUcUc1ZHE0YkJxMmlma0xKZnNzVFV3OVl5eFU1TU5sNXFIQ2Y2VVNkTkNYQ3hISEV2c1gwblROTFFRMUphVGhpeGJhREdcL1VFRGs0XC8rTktWVVgyWXdrSFlzZVVrVWM1bUJpekNjc3EwUFJ3VjluTktLeGRRbUtURGZWRTc1MU0xaW9NYVluVytzYTNja2pzQ1R0U3EzbkZWYUlHRGdkbHJJQVVyTzlHZVFGb2tzRURyWUlrVTBDZEVZaE1sa1hXK2Q2S20rWTJrSVwvUVZsK20xSHlEcEVGd04xMHhUYUJMbHFDV3ZwQ09wdWp0SjNrYU03aXJmOGdOaEM2eTRTTU5GWmtKWjlubGtVbGEzNHhzcDIwbUphMjJCenpWNVFCTUJtVTJ6a21mMjBzWHk5WHpBUHcxU2Z4TUY0RHBGUDZsRUNJZDl4NFFlekVWVWpncEl2QT09IiwibWFjIjoiMzhlZGY2Y2NkZTY1Y2Q2ZDZjZGI0YWIwMzU4ZmU2MjFjOGRjYmY4YzY5ZWIyOGQ3ODRiMzQzYzg5Y2ViN2Q4ZSJ9
//
//    MATT is an automated theme deployment pipeline for Shopify, built by Eastside Co.
//    It is used to provide version control and reliable deployment environments.
//
//    If you need to modify this file, please contact Eastside Co.
{%- endcomment -%}
<div class="labo-cart-form-popup{% if mobile %} labo-cart-form-popup--mobile{% endif %}" id="labo-cart-form-popup" data-side-cart{% if mobile %}-mobile{% endif %}>
    <template>
        <p v-if="cart.item_count == 0">You don't have any items in your cart.</p>

        <div v-else class="labo-cart-sidebar-item loop_9" v-for="(item, index) in cart.items" :key="item.key">
            <p class="labo-cart-item-remove" @click="removeItem(item)">Remove</p>

            <div class="labo-cart-item-image">
                <img class="d-block w-100" :src="itemImage(item.image)" :alt="item.title">
            </div>
            <div class="labo-cart-item-details">
                <div class="labo-cart-item-title">
                    <a :href="item.url" v-text="item.product_title"></a>
                </div>

                <div class="labo-cart-product-details" v-if="item.properties.Device">
                    <div class="labo-cart-variant-text">
                        {% raw %}
                            Device: {{item.properties.Device}}
                        {% endraw %}
                    </div>
                </div>

                <div class="labo-cart-product-details" v-if="item.options_with_values">
                    <div class="labo-cart-variant-text" v-for="option in item.options_with_values">
                        <span v-if="option.value != 'Default Title'">{% raw %}{{option.name}}: {{option.value}}{% endraw %}</span>
                    </div>
                </div>
                <div class="labo-cart-product-details labo-properties" v-if="item.properties.Note">
                    <div class="labo-cart-variant-text">
                        {% raw %}{{item.properties.Note}}{% endraw %}
                    </div>
                </div>

                <div class="labo-cart-quantity-price-action">
                    <div class="labo-cart-quantity-action">
                        <a class="labo-quant-button laboHasprevClass mr-2" href="#" @click="handleChange(item, -1)">
                            <svg width="11" height="1" viewBox="0 0 11 1" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <line y1="0.5" x2="11" y2="0.5" stroke="black"/>
                            </svg>
                        </a>

                        <span v-text="item.quantity"></span>

                        <a class="labo-quant-button laboHasnextClass lbhs1 ml-2" href="#" @click="handleChange(item, 1)">
                            <svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <line y1="5.5" x2="11" y2="5.5" stroke="black"/>
                                <line x1="5.5" y1="11" x2="5.5" stroke="black"/>
                            </svg>
                        </a>
                    </div>

                    <div class="labo-cart-price-action">
                        <span class="labo-cart-price">
                            {% raw %}{{item.price | money}}{% endraw %}
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div class="labo-cart-footer" v-if="cart.item_count > 0">
            <div class="labo-cart-shipping">
                <span class="labo-cart-shipping-title">Shipping</span>
                <span class="labo-cart-shipping-price" data-cart-subtotal>Free</span>
            </div>


            <span class="price-currency" style="display: none;">{{cart.total_price | money}}</span>
            
            <span class="moneySubtotal" style="display: none;">
                {% raw %}{{cart.total_price | money}}{% endraw %}
            </span>


            <div class="labo-cart-subtotal">
                <span class="labo-cart-subtotal-title">{{ 'cart.general.subtotal' | t }}</span>
                <span class="labo-cart-subtotal-price">
                    {% raw %}{{cart.total_price | money}}{% endraw %}
                </span>
            </div>
            
        </div>

        <div class="labo-cart-buttons" v-if="cart.item_count > 0">
            <a href="/checkout" class="labo-cart-button">{{ 'cart.general.checkout' | t }}</a>
            {% comment %}
            {%- if shop.taxes_included -%}
                <p class="labo-taxes-calculated-at">Taxes calculated at checkout</p>
            {%- endif -%}
            {% endcomment %}
        </div>
    </template>
</div>

<style>
    #Actual {
        background: silver;
        color: White;
        padding: 20px;
    }
    .slideup, .slidedown {
        max-height: 0;            
        overflow-y: hidden;
        -webkit-transition: max-height 0.5s ease-in-out;
        -moz-transition: max-height 0.5s ease-in-out;
        -o-transition: max-height 0.5s ease-in-out;
        transition: max-height 0.5s ease-in-out;
    }
    .slidedown {            
        max-height: 60px ;                    
    }
</style>

<!-- <script defer>
    setTimeout(function(){
        let moneyPrice = document.querySelector('.labo-cart-subtotal-price').innerHTML
        let currency = document.querySelector('.price-currency').innerHTML.split(/(?=[1-9])/)[0]
        document.querySelector('.labo-cart-subtotal-price').innerHTML = currency + moneyPrice
        // str.slice(0, -2) + "." + str.slice(-2);
    },1000)
</script> -->
